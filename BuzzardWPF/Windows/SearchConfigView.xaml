<UserControl x:Class="BuzzardWPF.Windows.SearchConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
             xmlns:data="clr-namespace:BuzzardWPF.Data"
             xmlns:sys="clr-namespace:System.IO;assembly=mscorlib"
			 xmlns:windows="clr-namespace:BuzzardWPF.Windows"
             mc:Ignorable="d" 
             d:DesignHeight="317" 
             d:DesignWidth="800" 
             MinWidth="200" 
             MinHeight="215">    
    <Grid>
        <Grid.RowDefinitions>


            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="64"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>

            <ColumnDefinition Width="164"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="140"/>
        </Grid.ColumnDefinitions>


        <Label Name="m_directoryPathLabel"
			   Content="Look for files in..."                    
			   Grid.Row="0" Grid.Column="0"
			   Grid.RowSpan="1"
			   Grid.ColumnSpan="1"              
			   HorizontalAlignment="Left" 
			   VerticalAlignment="Center" 
			   VerticalContentAlignment="Center"
			   MinWidth="32"
			   FontSize="16" />
		
		<CheckBox Grid.Column="3" Grid.Row="1"
				  Grid.ColumnSpan="2"
				  Content="Include Archived Files (&quot;x__*&quot;)"
				  VerticalAlignment="Center"
				  FontSize="15"
				  Margin="15"
				  IsChecked="{Binding Path=IncludedArchivedItems, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged }"/>
		
		<my:AutoCompleteBox x:Name="m_directoryPath" 
							Grid.Row="0"
                            Grid.Column="1"
							Grid.ColumnSpan="4"
							FilterMode="StartsWith"
							VerticalContentAlignment="Center"
							VerticalAlignment="Center"
							FontSize="16"
							MinHeight="32"
                            Margin="5"
							Populating="DirectoryPath_Populating"
				            Text="{Binding Path=Config.DirectoryPath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <my:AutoCompleteBox.ContextMenu>
				                <ContextMenu>
					                <MenuItem Header="Explore This Folder" Click="MenuItem_Click"/>
				                </ContextMenu>
			                </my:AutoCompleteBox.ContextMenu>
		</my:AutoCompleteBox>
		
        <Button Name="m_buttonBrowseForPath"
                Grid.Row="0"
                Grid.Column="6"
                Content="..."                     
                Height="32"
		        Style="{StaticResource SimpleButtonStyle}"
                HorizontalContentAlignment="Center"
                HorizontalAlignment="Stretch"      
                VerticalAlignment="Center" Click="m_buttonBrowseForPath_Click" />
        <ComboBox Name="m_searchTypes"
				  Grid.Row="1" Grid.Column="1"
				  Grid.RowSpan="1" 
				  Grid.ColumnSpan="2"             
				  VerticalAlignment="Center"
				  VerticalContentAlignment="Center"
				  MinHeight="32"
                  Margin="5"
				  ItemsSource="{Binding}"
				  SelectedValue="{Binding Path=Config.Option, Mode=TwoWay,
                                            RelativeSource={RelativeSource AncestorType={x:Type UserControl}},  UpdateSourceTrigger=PropertyChanged}"/>
        <Label 
            Name="m_searchOptionLabel" 
            Content="...and check..."             
            Grid.Row="1"
            Grid.Column="0"            
            FontSize="16" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Center"/>
        <Label Content="...that end with"                 
			   Name="m_extensionLabel"             
			   Grid.Row="2"
			   Grid.RowSpan="1"
			   Grid.Column="0"
			   Grid.ColumnSpan="1"                
			   HorizontalAlignment="Left" 
			   VerticalAlignment="Center" 
			   FontSize="16" />
        <TextBox Name="m_extension"                     
				 Grid.Row="2" Grid.Column="1"
				 Grid.RowSpan="1"
				 Grid.ColumnSpan="2" 
				 VerticalAlignment="Center"
				 VerticalContentAlignment="Center"
				 MinHeight="32"
                 Margin="5"
				 FontSize="15"
				 Text="{Binding Path=Config.FileExtension, Mode=TwoWay,
                                            RelativeSource={RelativeSource AncestorType={x:Type UserControl}}, UpdateSourceTrigger=PropertyChanged}"/>   
        <DatePicker Name="m_dateFrom" 
					IsEnabled="True"
					Margin="2"
					Grid.Row="3" 
                    Grid.ColumnSpan="3"
                    Grid.Column="1"                    
					SelectedDate="{Binding Path=Config.StartDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					HorizontalAlignment="Stretch" 
					VerticalAlignment="Center"/>
        <Label Content="...from date"  
			   IsEnabled="True"
			   Grid.Row="3" 
               Grid.Column="0"
			   HorizontalAlignment="Left" 
			   VerticalAlignment="Center"
               FontSize="16"/>
        <Label Content="...to date"  
			   IsEnabled="True"
			   Grid.Row="4" 
               Grid.Column="0"
			   HorizontalAlignment="Left" 
			   VerticalAlignment="Center"
               FontSize="16"/>
        <DatePicker Name="m_dateTo" 
					IsEnabled="True"
					Margin="2"
					Grid.Row="4"
                    Grid.Column="1"
					Grid.ColumnSpan="3"       
					SelectedDate="{Binding Path=Config.EndDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"      
					HorizontalAlignment="Stretch" 
					VerticalAlignment="Center"/>
        <Button Name="m_monitor" 
				Grid.Row="6" 
                Grid.Column="6"
				FontSize="16"
				MinWidth="95"
				MinHeight="32"                
                Height="48"
		        Style="{StaticResource SimpleButtonStyle}"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Bottom" 
				Click="m_monitor_Click">
            <DockPanel Height="32" Width="128">
                <Label 
                        VerticalContentAlignment="Center"
                        DockPanel.Dock="Right"
                        Margin="0,0,5,0"
                        Content="Search"/>
                <Image 
                            Margin="5"
                            DockPanel.Dock="Left"
                            Source="{Binding Path=Monitor, 
									    Mode=OneWay,                         
									    UpdateSourceTrigger=PropertyChanged, 
									    FallbackValue={StaticResource SearchGreen}}"/>
            </DockPanel>
        </Button>
    </Grid>
</UserControl>
